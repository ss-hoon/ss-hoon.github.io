---
title: Spring Project AWS EC2에 배포하기 2
categories: [AWS]
tags: ['AWS', 'EC2', 'S3', 'codecommit', 'codebuild', 'codedeploy']
toc: true
secret: true

date: 2023-06-12
last_modified_at: 2023-06-14
---

## 1. 서론

AWS는 코드를 컴파일하고 테스트를 실행한 후 소프트웨어 패키지를 생성해주는 CodeBuild를 제공합니다.

이 CodeBuild를 통해 앞서 Codecommit에 업로드했던 코드를 컴파일해서 jar 파일로 만들어보겠습니다.

그 전에 AWS는 CodeBuild에서 빌드 결과물을 저장할 공간을 지정할 수 있는데

우리는 S3에 빌드 결과물을 저장해보겠습니다.

## 2. S3 Bucket 생성

S3에 빌드 결과물을 저장할 Bucket을 하나 생성합니다.

![s3-1]({{ site.url }}/assets/img/aws/aws-s3-1.png)

![s3-2]({{ site.url }}/assets/img/aws/aws-s3-2.png)

![s3-3]({{ site.url }}/assets/img/aws/aws-s3-3.png)

(작성중...)

## 3. 프로젝트 Build

CodeBuild 서비스를 이용하기 위해 IAM 권한과 역할을 추가합니다.

* [IAM 권한 추가] - AWSCodeBuildAdminAccess

   ![codebuild1]({{ site.url }}/assets/img/aws/aws-codebuild1.png)

* [역할 추가] - AWSCodeCommitFullAccess, AWSCodeBuildAdminAccess

   ![codebuild2]({{ site.url }}/assets/img/aws/aws-codebuild2.png)

   ![codebuild3]({{ site.url }}/assets/img/aws/aws-codebuild3.png)

   ![codebuild4]({{ site.url }}/assets/img/aws/aws-codebuild4.png)

   ![codebuild5]({{ site.url }}/assets/img/aws/aws-codebuild5.png)

   ![codebuild6]({{ site.url }}/assets/img/aws/aws-codebuild6.png)

   ![codebuild7]({{ site.url }}/assets/img/aws/aws-codebuild7.png)

그리고 CodeBuild 서비스에 진입한 후, 빌드 프로젝트를 생성합니다.

![codebuild8]({{ site.url }}/assets/img/aws/aws-codebuild8.png)

![codebuild9]({{ site.url }}/assets/img/aws/aws-codebuild9.png)

![codebuild10]({{ site.url }}/assets/img/aws/aws-codebuild10.png)

![codebuild11]({{ site.url }}/assets/img/aws/aws-codebuild11.png)