---
title: Spring Project AWS EC2에 배포하기 2
categories: [AWS]
tags: ['AWS', 'EC2', 'S3', 'codecommit', 'codebuild', 'codedeploy']
toc: true
secret: true

date: 2023-06-12
last_modified_at: 2023-06-20
---

## 1. 서론

AWS는 코드를 컴파일하고 테스트를 실행한 후 소프트웨어 패키지를 생성해주는 CodeBuild를 제공합니다.

CodeBuild를 통해 앞서 Codecommit에 업로드했던 코드를 컴파일 후 빌드 결과물로

패키징 파일을 생성하고 해당 파일을 S3 Bucket에 저장해보겠습니다.

## 2. S3 Bucket 생성

S3 서비스를 이용하기 위해 IAM 권한(AmazonS3FullAccess)을 추가합니다.

   ![s3-1]({{ site.url }}/assets/img/aws/aws-s3-1.png)

이제 우리는 S3 서비스를 이용할 권한이 생깁니다.

그럼 이번에는 패키징 파일을 저장할 Bucket을 생성해봅시다.

![s3-2]({{ site.url }}/assets/img/aws/aws-s3-2.png)

![s3-3]({{ site.url }}/assets/img/aws/aws-s3-3.png)

![s3-4]({{ site.url }}/assets/img/aws/aws-s3-4.png)

자, Bucket이 생성되었습니다.

생각보다 간단하죠?

이제 앞서 CodeCommit에 업로드한 코드를 Build해서

그 결과물로 나온 패키징 파일을 방금 생성한 S3 Bucket에 저장해봅시다.

## 3. 프로젝트 Build

CodeBuild 서비스를 이용하기 위해 IAM 권한과 역할을 추가합니다.

* [IAM 권한 추가] - AWSCodeBuildAdminAccess

   ![codebuild1]({{ site.url }}/assets/img/aws/aws-codebuild1.png)

* [역할 추가] - AWSCodeCommitFullAccess, AWSCodeBuildAdminAccess

   ![codebuild2]({{ site.url }}/assets/img/aws/aws-codebuild2.png)

   ![codebuild3]({{ site.url }}/assets/img/aws/aws-codebuild3.png)

   ![codebuild4]({{ site.url }}/assets/img/aws/aws-codebuild4.png)

   ![codebuild5]({{ site.url }}/assets/img/aws/aws-codebuild5.png)

   ![codebuild6]({{ site.url }}/assets/img/aws/aws-codebuild6.png)

   ![codebuild7]({{ site.url }}/assets/img/aws/aws-codebuild7.png)

그리고 CodeBuild 서비스에 진입한 후, 빌드 프로젝트를 생성합니다.

![codebuild8]({{ site.url }}/assets/img/aws/aws-codebuild8.png)

![codebuild9]({{ site.url }}/assets/img/aws/aws-codebuild9.png)

![codebuild10]({{ site.url }}/assets/img/aws/aws-codebuild10.png)

![codebuild11]({{ site.url }}/assets/img/aws/aws-codebuild11.png)