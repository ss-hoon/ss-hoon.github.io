---
title: Item 19. ìƒì†ì„ ê³ ë ¤í•´ ì„¤ê³„í•˜ê³  ë¬¸ì„œí™”í•˜ë¼. ê·¸ëŸ¬ì§€ ì•Šì•˜ë‹¤ë©´ ìƒì†ì„ ê¸ˆì§€í•˜ë¼ (ì‘ì„±ì¤‘)
categories: [Effective-Java]
tags: [ìƒì†]
toc: true
secret: true

date: 2022-06-27
last_modified_at: 2022-06-27
---

## 1. ë“¤ì–´ê°€ê¸°

Item 18ì—ì„œëŠ” ìƒì†ì„ ì—¼ë‘ì— ë‘ì§€ ì•Šê³  ì„¤ê³„í•œ í´ë˜ìŠ¤ë¥¼ ìƒì†í–ˆì„ ë•Œì˜ ë¬¸ì œì ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ ìƒì†ì„ ì—¼ë‘ì— ë‘” í´ë˜ìŠ¤ë¥¼ ì–´ë–»ê²Œ íŒë‹¨í•  ìˆ˜ ìˆì„ê¹Œìš”? ğŸ¤”

ì´ë²ˆ Itemì—ì„œëŠ” ì–´ë–¤ í´ë˜ìŠ¤ë¥¼ ìƒì†í•´ì•¼ í•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## 2. ìƒì†ì„ ì—¼ë‘ì— ë‘” í´ë˜ìŠ¤ë¥¼ íŒë‹¨í•˜ëŠ” ë°©ë²•

ğŸ¯ ë©”ì„œë“œì˜ ì‚¬ìš©ë²•ì„ ë¬¸ì„œë¡œ ë‚¨ê¸´ í´ë˜ìŠ¤

ìƒì†ì„ ì—¼ë‘ì— ë‘” í´ë˜ìŠ¤ëŠ” ëŒ€í‘œì ìœ¼ë¡œ ì¬ì •ì˜ ê°€ëŠ¥í•œ ë©”ì„œë“œë“¤ì˜ ì‚¬ìš©ë²•ì„ ë¬¸ì„œë¡œ ë‚¨ê²¨ë†“ìŠµë‹ˆë‹¤.

ëŒ€í‘œì ì¸ ì˜ˆë¡œ java.util.AbstractCollectionì˜ remove ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤.

```java
  /**
    * {@inheritDoc}
    *
    * @implSpec
    * This implementation iterates over the collection looking for the
    * specified element.  If it finds the element, it removes the element
    * from the collection using the iterator's remove method.
    *
    * <p>Note that this implementation throws an
    * {@code UnsupportedOperationException} if the iterator returned by this
    * collection's iterator method does not implement the {@code remove}
    * method and this collection contains the specified object.
    *
    * @throws UnsupportedOperationException {@inheritDoc}
    * @throws ClassCastException            {@inheritDoc}
    * @throws NullPointerException          {@inheritDoc}
    */
  public boolean remove(Object o) { ... }
```

API ë¬¸ì„œì˜ ë©”ì„œë“œ ì„¤ëª… ëì— ì¢…ì¢… "Implementation Requirements"ë¡œ ì‹œì‘í•˜ëŠ” ì ˆì„ ë³¼ ìˆ˜ ìˆëŠ”ë°

ê·¸ ë¶€ë¶„ì´ ë©”ì„œë“œì˜ ë‚´ë¶€ ë™ì‘ ë°©ì‹ì„ ì„¤ëª…í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.

remove ë©”ì„œë“œì—ì„œëŠ” ì•„ë˜ ë¶€ë¶„ì´ Implementation Requirementsì— í•´ë‹¹ë©ë‹ˆë‹¤.

```
  @implSpec
  This implementation iterates over the collection looking for the
  specified element.  If it finds the element, it removes the element
  from the collection using the iterator's remove method.

  <p>Note that this implementation throws an
  {@code UnsupportedOperationException} if the iterator returned by this
  collection's iterator method does not implement the {@code remove}
  method and this collection contains the specified object.
```

iterator ë©”ì„œë“œê°€ ë°˜í™˜í•œ ë°˜ë³µìê°€ remove ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì˜ˆì™¸ë¥¼ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ìœ¼ë¡œ

iterator ë©”ì„œë“œë¥¼ ì¬ì •ì˜í•˜ë©´ remove ë©”ì„œë“œì˜ ë™ì‘ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ¯ í´ë˜ìŠ¤ ë‚´ë¶€ ë™ì‘ ê³¼ì •ì— ë¼ì–´ë“¤ ìˆ˜ ìˆëŠ” í›…(hook)ì„ ì„ ë³„í•´ protected ë©”ì„œë“œë¡œ ê³µê°œí•œ í´ë˜ìŠ¤

ëŒ€í‘œì ì¸ ì˜ˆë¡œ java.util.AbstractListì˜ removeRange ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤.

```java
  /**
    * Removes from this list all of the elements whose index is between
    * {@code fromIndex}, inclusive, and {@code toIndex}, exclusive.
    * Shifts any succeeding elements to the left (reduces their index).
    * This call shortens the list by {@code (toIndex - fromIndex)} elements.
    * (If {@code toIndex==fromIndex}, this operation has no effect.)
    *
    * <p>This method is called by the {@code clear} operation on this list
    * and its subLists.  Overriding this method to take advantage of
    * the internals of the list implementation can <i>substantially</i>
    * improve the performance of the {@code clear} operation on this list
    * and its subLists.
    *
    * @implSpec
    * This implementation gets a list iterator positioned before
    * {@code fromIndex}, and repeatedly calls {@code ListIterator.next}
    * followed by {@code ListIterator.remove} until the entire range has
    * been removed.  <b>Note: if {@code ListIterator.remove} requires linear
    * time, this implementation requires quadratic time.</b>
    *
    * @param fromIndex index of first element to be removed
    * @param toIndex index after last element to be removed
    */
  protected void removeRange(int fromIndex, int toIndex) { ... }
```

í•´ë‹¹ ì½”ë“œì—ì„œ ì£¼ì˜ ê¹Šê²Œ ë´ì•¼í•  ë¶€ë¶„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```
  <b>Note: if {@code ListIterator.remove} requires linear
  time, this implementation requires quadratic time.</b>
```

ListIterator.removeê°€ ì„ í˜• ì‹œê°„ì´ ê±¸ë¦¬ë©´ ì´ êµ¬í˜„ì˜ ì„±ëŠ¥ì€ ì œê³±ì— ë¹„ë¡€í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

List êµ¬í˜„ì²´ì˜ ìµœì¢… ì‚¬ìš©ìëŠ” removeRange ë©”ì„œë“œì— ê´€ì‹¬ì´ ì—†ìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ì—ë„ í•´ë‹¹ ë©”ì„œë“œë¥¼ ì œê³µí•œ ì´ìœ ëŠ” í•˜ìœ„ í´ë˜ìŠ¤ì˜ clear ë©”ì„œë“œë¥¼ ê³ ì„±ëŠ¥ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.

ë§Œì•½, removeRange ë©”ì„œë“œê°€ ì—†ë‹¤ë©´ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ clear ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì„±ëŠ¥ì´ ë–¨ì–´ì§ˆ ê²ƒì…ë‹ˆë‹¤.

ğŸ¯ ìƒì„±ì ë‚´ë¶€ì—ì„œ ì¬ì •ì˜ ê°€ëŠ¥ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” í´ë˜ìŠ¤

(ì‘ì„±ì¤‘...)

## 3. ìƒì†ìš© í´ë˜ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸í•˜ëŠ” ë°©ë²•

ì•ì„œ ìƒì†ì„ ì—¼ë‘ì— ë‘” í´ë˜ìŠ¤ë¥¼ íŒë‹¨í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ ìš°ë¦¬ê°€ ìƒì†ìš© í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì—ˆì„ ë•Œ ê·¸ í´ë˜ìŠ¤ë¥¼ ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸í•˜ë©´ ì¢‹ì„ê¹Œìš”?

ìƒì†ìš© í´ë˜ìŠ¤ë¡œ ì í•©í•œì§€ ì•Œë ¤ì£¼ëŠ” ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ê² ì§€ë§Œ, ê·¸ëŸ° ë„êµ¬ëŠ” ì•„ì‰½ê²Œë„ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ê°€ì¥ ì¢‹ì€ ë°©ë²•ì´ì ìœ ì¼í•œ ë°©ë²•ì€ "ì§ì ‘ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë³´ëŠ” ê²ƒ" ì…ë‹ˆë‹¤.

ê¼­ í•„ìš”í•œ protected ë©¤ë²„ë¥¼ ë†“ì³¤ë‹¤ë©´ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•  ë•Œ ë¹ˆìë¦¬ê°€ í™•ì—°íˆ ë“œëŸ¬ë‚©ë‹ˆë‹¤.

ë°˜ëŒ€ë¡œ, ì—¬ëŸ¬ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œê¹Œì§€ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” protected ë©¤ë²„ëŠ” privateì¼ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.