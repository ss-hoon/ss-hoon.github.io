---
title: Item 19. ìƒì†ì„ ê³ ë ¤í•´ ì„¤ê³„í•˜ê³  ë¬¸ì„œí™”í•˜ë¼. ê·¸ëŸ¬ì§€ ì•Šì•˜ë‹¤ë©´ ìƒì†ì„ ê¸ˆì§€í•˜ë¼ (ì‘ì„±ì¤‘)
categories: [Effective-Java]
tags: [ìƒì†]
toc: true
secret: true

date: 2022-06-27
last_modified_at: 2022-06-27
---

## 1. ë“¤ì–´ê°€ê¸°

Item 18ì—ì„œëŠ” ìƒì†ì„ ì—¼ë‘ì— ë‘ì§€ ì•Šê³  ì„¤ê³„í•œ í´ë˜ìŠ¤ë¥¼ ìƒì†í–ˆì„ ë•Œì˜ ë¬¸ì œì ì„ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ ìƒì†ì„ ì—¼ë‘ì— ë‘” í´ë˜ìŠ¤ë¥¼ ì–´ë–»ê²Œ íŒë‹¨í•  ìˆ˜ ìˆì„ê¹Œìš”? ğŸ¤”

ì´ë²ˆ Itemì—ì„œëŠ” ì–´ë–¤ í´ë˜ìŠ¤ë¥¼ ìƒì†í•´ì•¼ í•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## 2. ìƒì†ì„ ì—¼ë‘ì— ë‘” í´ë˜ìŠ¤ë¥¼ íŒë‹¨í•˜ëŠ” ë°©ë²•

ğŸ¯ ë©”ì„œë“œì˜ ì‚¬ìš©ë²•ì„ ë¬¸ì„œë¡œ ë‚¨ê¸´ í´ë˜ìŠ¤

ìƒì†ì„ ì—¼ë‘ì— ë‘” í´ë˜ìŠ¤ëŠ” ëŒ€í‘œì ìœ¼ë¡œ ì¬ì •ì˜ ê°€ëŠ¥í•œ ë©”ì„œë“œë“¤ì˜ ì‚¬ìš©ë²•ì„ ë¬¸ì„œë¡œ ë‚¨ê²¨ë†“ìŠµë‹ˆë‹¤.

ëŒ€í‘œì ì¸ ì˜ˆë¡œ java.util.AbstractCollectionì˜ remove ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤.

```java
  /**
    * {@inheritDoc}
    *
    * @implSpec
    * This implementation iterates over the collection looking for the
    * specified element.  If it finds the element, it removes the element
    * from the collection using the iterator's remove method.
    *
    * <p>Note that this implementation throws an
    * {@code UnsupportedOperationException} if the iterator returned by this
    * collection's iterator method does not implement the {@code remove}
    * method and this collection contains the specified object.
    *
    * @throws UnsupportedOperationException {@inheritDoc}
    * @throws ClassCastException            {@inheritDoc}
    * @throws NullPointerException          {@inheritDoc}
    */
  public boolean remove(Object o) { ... }
```

API ë¬¸ì„œì˜ ë©”ì„œë“œ ì„¤ëª… ëì— ì¢…ì¢… "Implementation Requirements"ë¡œ ì‹œì‘í•˜ëŠ” ì ˆì„ ë³¼ ìˆ˜ ìˆëŠ”ë°

ê·¸ ë¶€ë¶„ì´ ë©”ì„œë“œì˜ ë‚´ë¶€ ë™ì‘ ë°©ì‹ì„ ì„¤ëª…í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.

remove ë©”ì„œë“œì—ì„œëŠ” ì•„ë˜ ë¶€ë¶„ì´ Implementation Requirementsì— í•´ë‹¹ë©ë‹ˆë‹¤.

```
  @implSpec
  This implementation iterates over the collection looking for the
  specified element.  If it finds the element, it removes the element
  from the collection using the iterator's remove method.

  <p>Note that this implementation throws an
  {@code UnsupportedOperationException} if the iterator returned by this
  collection's iterator method does not implement the {@code remove}
  method and this collection contains the specified object.
```

iterator ë©”ì„œë“œê°€ ë°˜í™˜í•œ ë°˜ë³µìê°€ remove ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì˜ˆì™¸ë¥¼ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ìœ¼ë¡œ

iterator ë©”ì„œë“œë¥¼ ì¬ì •ì˜í•˜ë©´ remove ë©”ì„œë“œì˜ ë™ì‘ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í™•ì‹¤íˆ ì´ëŠ” HashSetì˜ addAll ë©”ì„œë“œê°€ add ë©”ì„œë“œë¥¼ ì°¸ì¡°í•˜ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ì—†ì—ˆë˜ ê²ƒê³¼ ë¹„êµë©ë‹ˆë‹¤.

ğŸ¯ í´ë˜ìŠ¤ ë‚´ë¶€ ë™ì‘ ê³¼ì •ì— ë¼ì–´ë“¤ ìˆ˜ ìˆëŠ” í›…(hook)ì„ ì„ ë³„í•´ protected ë©”ì„œë“œë¡œ ê³µê°œí•œ í´ë˜ìŠ¤