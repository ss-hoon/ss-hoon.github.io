---
title: Item 34. int ìƒìˆ˜ ëŒ€ì‹  ì—´ê±° íƒ€ì…ì„ ì‚¬ìš©í•˜ë¼
categories: [Effective-Java]
tags: [Enum]
toc: true

date: 2022-09-29
last_modified_at: 2022-10-09
---

## 1. ë“¤ì–´ê°€ê¸°

ìš°ë¦¬ëŠ” ë³´í†µ ì •í˜•í™”ëœ ë°ì´í„°ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ ìƒìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³¤ í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ, ìƒìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¬ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.

```java
  public static final int CARD_JACK = 11;
  public static final int CARD_QUEEN = 12;
  public static final int CARD_KING = 13;

  public static final int FAMILY_BROTHER_AGE = 11;
  public static final int FAMILY_SISTER_AGE = 13;

  public static void main(String[] args) {
    Card card = new Card(FAMILY_BROTHER_AGE);   // ì •ìƒ ì‘ë™
  }
```

ì´ëŸ° ë¬¸ì œì ì„ ì–´ë–»ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œìš”?

## 2. ì—´ê±° íƒ€ì…

ë‹¤í–‰íˆ ìë°”ëŠ” ì•ì˜ ë¬¸ì œì ì„ ë§ë”íˆ ì”»ì–´ì£¼ë©´ì„œ ì—¬ëŸ¬ ì¥ì ì„ ì•ˆê²¨ì£¼ëŠ” ë°©ë²•ìœ¼ë¡œ ì—´ê±° íƒ€ì…ì„ ì œì‹œí–ˆìŠµë‹ˆë‹¤.

ì—´ê±° íƒ€ì…ì€ í´ë˜ìŠ¤ì´ë©° ìƒìˆ˜ í•˜ë‚˜ë‹¹ ìì‹ ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•˜ë‚˜ì”© ë§Œë“¤ì–´ public static finalë¡œ ê³µê°œí•©ë‹ˆë‹¤.

ë”°ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì§ì ‘ ìƒì„±í•  ìˆ˜ ì—†ê¸°ì— ì—´ê±° íƒ€ì… ì¸ìŠ¤í„´ìŠ¤ëŠ” ë”± í•˜ë‚˜ì”©ë§Œ ì¡´ì¬í•˜ê²Œ ë©ë‹ˆë‹¤.

ğŸ”¸ ì‚¬ìš©ë²•

```java
  public enum Fruit {
    ORANGE, APPLE, MANGO
  }

  public enum Phone {
    APPLE, SAMSUNG
  }
```

<br>

ğŸ”¸ì‚¬ìš©ì²˜

í•„ìš”í•œ ì›ì†Œë¥¼ ì»´íŒŒì¼ íƒ€ì„ì— ë‹¤ ì•Œ ìˆ˜ ìˆëŠ” ìƒìˆ˜ ì§‘í•©ì´ë¼ë©´ í•­ìƒ ì—´ê±° íƒ€ì…ì„ ì‚¬ìš©í•©ì‹œë‹¤.

ex. íƒœì–‘ê³„ í–‰ì„±, ìš”ì¼, ì²´ìŠ¤ ë§ ë“±

<br>

ğŸ”¸ì¥ì 

  1. ì»´íŒŒì¼ ì‹œ íƒ€ì… ì•ˆì „ì„±ì„ ì œê³µí•œë‹¤.

     ë§Œì•½, ë©”ì„œë“œì˜ ë§¤ê°œ ë³€ìˆ˜ íƒ€ì…ìœ¼ë¡œ Fruit ì—´ê±° íƒ€ì…ì„ ì‚¬ìš©í–ˆë‹¤ë©´

     ê±´ë„¤ ë°›ì€ ì°¸ì¡°ëŠ” null ë˜ëŠ” 3ê°€ì§€ íƒ€ì… ì¤‘ì— í•˜ë‚˜ê°€ ë©ë‹ˆë‹¤.

     ê·¸ëŸ¬ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ëŠ” `bus`ì™€ ê°™ì´ ì„ì˜ë¡œ ê°’ì„ ì§€ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

      ```java
        public class FruitMarket {
          private Fruit mostPopularFruit;

          public FruitMarket(Fruit fruit) {
            this.mostPopularFruit = fruit
          }
        }

        public static void main(String[] args) {
          FruitMarket market = new FruitMarket(Phone.APPLE);   // ì»´íŒŒì¼ ì˜¤ë¥˜
        }
      ```

     <br>

  2. ê°ì ì´ë¦„ê³µê°„ì´ ìˆì–´ ì´ë¦„ì´ ê°™ì€ ìƒìˆ˜ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

     ì˜ˆë¥¼ ë“¤ì–´ Fruit ì—´ê±° íƒ€ì…ê³¼ Phone ì—´ê±° íƒ€ì… ê°ê°ì— `APPLE`ì´ë¼ëŠ” ê°’ì´ ìˆì–´ë„ ê³µì¡´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

     <br>

  3. ì—´ê±° íƒ€ì…ì˜ toString ë©”ì„œë“œëŠ” ì¶œë ¥í•˜ê¸° ì í•©í•œ ë¬¸ìì—´ì„ ë‚´ì–´ì¤€ë‹¤.

     ìƒìˆ˜ í•„ë“œì™€ ë‹¬ë¦¬ ì—´ê±° íƒ€ì…ì€ í´ë˜ìŠ¤ì´ê¸° ë•Œë¬¸ì— ë©”ì„œë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

     ë”°ë¼ì„œ, toString ë©”ì„œë“œë¥¼ í†µí•´ ì •ë³´ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆëŠ” ì í•©í•œ ë¬¸ìì—´ì„ ë‚´ì–´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 3. ì—´ê±° íƒ€ì…ì˜ í•„ë“œì™€ ë©”ì„œë“œ

ë˜í•œ, ì—´ê±° íƒ€ì…ì— í•„ë“œì™€ ë©”ì„œë“œë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ì˜ˆì‹œë¥¼ í†µí•´ ì•Œì•„ë´…ì‹œë‹¤.

```java
  public enum Planet {
    MERCURY(3.302e+23, 2.439e6),
    VENUS(4.869e+24, 6.052e6),
    EARTH(5.975e+24, 6.378e6),
    MARS(6.419e+23, 3.393e6),
    JUPITER(1.899e+27, 7.149e7),
    SATURN(5.685e+26, 6.027e7),
    URANUS(8.683e+25, 2.556e7),
    NEPTUNE(1.024e+26, 2.447e7);
    
    private final double mass;            // ì§ˆëŸ‰(ë‹¨ìœ„: í‚¬ë¡œê·¸ë¨)
    private final double radius;          // ë°˜ì§€ë¦„(ë‹¨ìœ„: ë¯¸í„°)
    private final double surfaceGravity;  // í‘œë©´ì¤‘ë ¥(ë‹¨ìœ„: m / s^2)
    
    // ì¤‘ë ¥ìƒìˆ˜ (ë‹¨ìœ„: m^3 / kg s^2)
    private static final double G = 6.67300E-11;
    
    // ìƒì„±ì
    Planet(double mass, double radius) {
      this.mass = mass;
      this.radius = radius;
      this.surfaceGravity = G * mass / (radius * radius);
    }
    
    // í•´ë‹¹ í–‰ì„±ì—ì„œì˜ ë¬´ê²Œ ë°˜í™˜
    public double surfaceWeight(double mass) {
      return mass * surfaceGravity;
    }
  }
```

ìœ„ì˜ ì˜ˆì‹œëŠ” íƒœì–‘ê³„ì˜ ì—¬ëŸ í–‰ì„±ì„ ë‚˜íƒ€ë‚´ëŠ” ì—´ê±° íƒ€ì…ì…ë‹ˆë‹¤.

ê° í–‰ì„±ì—ëŠ” ì§ˆëŸ‰ê³¼ ë°˜ì§€ë¦„ì´ ìˆê³ , ì´ ë‘ ì†ì„±ì„ ì´ìš©í•´ í‘œë©´ ì¤‘ë ¥ì„ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ, ì–´ë–¤ ê°ì²´ì˜ ì§ˆëŸ‰ì´ ì£¼ì–´ì§€ë©´ ê·¸ ê°ì²´ê°€ í–‰ì„± í‘œë©´ì— ìˆì„ ë•Œì˜ ë¬´ê²Œë„ ê³„ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
  Planet.MERCURY.surfaceWeight(70.0);
```

ì´ë ‡ê²Œ ì—´ê±° íƒ€ì…ì— í•„ë“œì™€ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ë©´ ë” ë§ì€ ë°ì´í„°ë¥¼ ê°€ì§„ ìƒìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 4. ì—´ê±° íƒ€ì… ê°’ì— ë”°ë¥¸ ë¶„ê¸° ì²˜ë¦¬

ì•ì˜ Planet ì˜ˆì‹œì™€ ë‹¬ë¦¬ ìƒìˆ˜ë§ˆë‹¤ ë™ì‘ì´ ë‹¬ë¼ì ¸ì•¼ í•˜ëŠ” ìƒí™©ë„ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

ì˜ˆì‹œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```java
  public enum Operation {
    PLUS, MINUS, TIMES, DIVIDE;

    public double apply(double x, double y) {
      switch(this) {
        case PLUS:    return x + y;
        case MINUS:   return x - y;
        case TIMES:   return x * y;
        case DIVIDE:  return x / y;
      }

      throw new AssertionError("ì•Œ ìˆ˜ ì—†ëŠ” ì—°ì‚°: " + this);
    }
  }
```

ìœ„ì˜ ì˜ˆì‹œëŠ” ì‚°ìˆ  ì—°ì‚° ì¢…ë¥˜ì— ë”°ë¼ ë‹¤ë¥¸ ë™ì‘ì„ í•˜ëŠ” ì—´ê±° íƒ€ì…ì…ë‹ˆë‹¤.

ë™ì‘ì—ëŠ” ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ì§€ë§Œ ìƒˆë¡œìš´ ìƒìˆ˜ë¥¼ ì¶”ê°€í•˜ë©´ caseë¬¸ì„ ì¶”ê°€í•´ì•¼í•˜ëŠ” ë¬¸ì œì ì´ ìˆìŠµë‹ˆë‹¤.

ë§Œì•½, case ë¬¸ ì‘ì„±ì„ ìŠì–´ë²„ë¦°ë‹¤ë©´ ì»´íŒŒì¼ì€ ë˜ì§€ë§Œ, ëŸ°íƒ€ì„ ì‹œ ì˜¤ë¥˜ë¥¼ ë‚´ë©° í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œí•  ê²ƒì…ë‹ˆë‹¤.

ë‹¤í–‰íˆ ì—´ê±° íƒ€ì…ì€ ë” ë‚˜ì€ ìˆ˜ë‹¨ì„ ì œê³µí•©ë‹ˆë‹¤.

```java
  public enum Operation {
    PLUS  {
      public double apply(double x, double y)   { return x + y; }
    },

    MINUS  {
      public double apply(double x, double y)   { return x - y; }
    },

    TIMES  {
      public double apply(double x, double y)   { return x * y; }
    },

    DIVIDE  {
      public double apply(double x, double y)   { return x / y; }
    };

    public abstract double apply(double x, double y);
  }
```

ë‹¤ìŒê³¼ ê°™ì´ ì—´ê±° íƒ€ì…ì— ì¶”ìƒ ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ê³  ê° ìƒìˆ˜ì—ì„œ ì¬ì •ì˜ í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

ì´ë¥¼ "ìƒìˆ˜ë³„ ë©”ì„œë“œ êµ¬í˜„"ì´ë¼ê³  í•©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ìƒìˆ˜ë³„ ë©”ì„œë“œ êµ¬í˜„ì„ "ìƒìˆ˜ë³„ ë°ì´í„°"ì™€ë„ ê²°í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
  public enum Operation {
    PLUS("+")  {
      public double apply(double x, double y)   { return x + y; }
    },

    MINUS("-")  {
      public double apply(double x, double y)   { return x - y; }
    },

    TIMES("*")  {
      public double apply(double x, double y)   { return x * y; }
    },

    DIVIDE("/")  {
      public double apply(double x, double y)   { return x / y; }
    };

    public abstract double apply(double x, double y);

    private final String symbol;

    Operation(String symbol)  { this.symbol = symbol; }
  }
```

## 5. ì „ëµ ì—´ê±° íƒ€ì… íŒ¨í„´

í•œí¸, ìƒìˆ˜ë³„ ë©”ì„œë“œ êµ¬í˜„ì€ ì—´ê±° íƒ€ì… ìƒìˆ˜ë¼ë¦¬ ì½”ë“œë¥¼ ê³µìœ í•˜ê¸° ì–´ë µë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤.

ì˜ˆì‹œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

```java
  enum PayrollDay {
    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY;

    private static final int MINS_PER_SHIFT = 8 * 60;

    int pay(int minutesWorked, int payRate) {
      int basePay = minutesWorked * payRate;

      int overtimePay;
      switch (this) {
        case SATURDAY:
        case SUNDAY:
          overtimePay = basePay / 2;
          break;
        default:
          overtimePay = minutesWorked <= MINS_PER_SHIFT ? 0 : (minutesWorked - MINS_PER_SHIFT) * payRate / 2;
      }

      return basePay + overtimePay;
    }
  }
```

ìœ„ì˜ ì˜ˆì‹œëŠ” ê¸‰ì—¬ëª…ì„¸ì„œì—ì„œ ì“¸ ìš”ì¼ì„ í‘œí˜„í•˜ëŠ” ì—´ê±° íƒ€ì…ì…ë‹ˆë‹¤.

ì´ ì—´ê±° íƒ€ì…ì€ ì§ì›ì˜ ì¼ë‹¹ì„ ê³„ì‚°í•´ì£¼ëŠ” ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

í•´ë‹¹ ì½”ë“œëŠ” ë¬¸ì œì—†ì´ ì˜ ì‘ë™í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ, íœ´ê°€ì™€ ê°™ì€ ìƒˆë¡œìš´ ê°’ì„ ì¶”ê°€í•˜ë ¤ë©´ case ë¬¸ë„ í•¨ê»˜ ì²˜ë¦¬í•´ì¤˜ì•¼ í•˜ëŠ” ë¬¸ì œì ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

case ë¬¸ ì¶”ê°€ë¥¼ ìì¹« ê¹œë¹¡í•˜ë©´ íœ´ê°€ ê¸°ê°„ì— ì¼í•´ë„ í‰ì¼ê³¼ ë˜‘ê°™ì€ ì„ê¸ˆì„ ë°›ê²Œ ë˜ëŠ”ê±°ì£ .

ìƒìˆ˜ë³„ ë©”ì„œë“œ êµ¬í˜„ìœ¼ë¡œ ê¸‰ì—¬ë¥¼ ì •í™•íˆ ê³„ì‚°í•˜ëŠ” ë°©ë²•ì€ ë‘ ê°€ì§€ì…ë‹ˆë‹¤.

* ì”ì—…ìˆ˜ë‹¹ ê³„ì‚° ì½”ë“œë¥¼ ëª¨ë“  ìƒìˆ˜ì— ì¤‘ë³µí•´ì„œ ë„£ëŠ”ë‹¤.

* ì”ì—…ìˆ˜ë‹¹ ê³„ì‚° ì½”ë“œë¥¼ í‰ì¼ìš©, ì£¼ë§ìš©ìœ¼ë¡œ ë‚˜ëˆ  ë„ìš°ë¯¸ ë©”ì„œë“œë¡œ ì‘ì„±í•œ ë‹¤ìŒ ì ì ˆí•˜ê²Œ í˜¸ì¶œí•œë‹¤.

í•˜ì§€ë§Œ, ë‘ ê°€ì§€ ë°©ë²• ëª¨ë‘ ì½”ë“œê°€ ì¥í™©í•´ì ¸ ê°€ë…ì„±ì´ ë–¨ì–´ì§€ê³  ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.

ê·¸ë˜ì„œ ê°€ì¥ ê¹”ë”í•œ ë°©ë²•ì€ ì”ì—…ìˆ˜ë‹¹ **"ì „ëµ"**ì„ ì„ íƒí•˜ë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```java
  enum PayrollDay {
    MONDAY(WEEKDAY), TUESDAY(WEEKDAY), WEDNESDAY(WEEKDAY), THURSDAY(WEEKDAY), FRIDAY(WEEKDAY), SATURDAY(WEEKEND), SUNDAY(WEEKEND);

    private final PayType payType;

    PayrollDay(PayType payType) {
      this.payType = payType;
    }

    int pay(int minutesWorked, int payRate) {
      return payType.pay(minutesWorked, payRate);
    }

    enum PayType {
      WEEKDAY {
        int overtimePay(int minsWorked, int payRate) {
          return minsWorked <= MINS_PER_SHIFT ? 0 : (minsWorked - MINS_PER_SHIFT) * payRate / 2;
        }
      },
      WEEKEND {
        int overtimePay(int minsWorked, int payRate) {
          return minsWorked * payRate / 2;
        }
      };

      abstract int overtimePay(int minsWorked, int payRate);
      private static final int MINS_PER_SHIFT = 8 * 60;

      public int pay(int minsWorked, int payRate) {
        int basePay = minsWorked * payRate;
        return basePay + overtimePay(minsWorked, payRate);
      }
    }
  }
```

ì”ì—…ìˆ˜ë‹¹ ê³„ì‚°ì„ PayTypeìœ¼ë¡œ ì˜®ê¸°ê³ , PayrollDay ìƒì„±ìì—ì„œ ì´ ì¤‘ ì ë‹¹í•œ ê²ƒì„ ì„ íƒí•˜ê²Œ í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ PayrollDayëŠ” ì”ì—…ìˆ˜ë‹¹ ê³„ì‚°ì„ ì „ëµ ì—´ê±° íƒ€ì…ì— ìœ„ì„í•˜ê¸° ë•Œë¬¸ì—

switch ë¬¸ì´ë‚˜ ìƒìˆ˜ë³„ ë©”ì„œë“œ êµ¬í˜„ì´ í•„ìš”ì—†ê²Œ ë©ë‹ˆë‹¤.

ì´ íŒ¨í„´ì€ switch ë¬¸ë³´ë‹¤ ë³µì¡í•˜ì§€ë§Œ ë” ì•ˆì „í•˜ê³  ìœ ì—°í•©ë‹ˆë‹¤.

## 6. switchë¬¸ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

switch ë¬¸ì€ ì—´ê±° íƒ€ì…ì˜ ìƒìˆ˜ë³„ ë™ì‘ì„ êµ¬í˜„í•˜ëŠ”ë° ì í•©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ìƒìˆ˜ë³„ ë™ì‘ì„ í˜¼í•©í•´ì„œ ë„£ëŠ” ê²½ìš°, switchë¬¸ì´ ì¢‹ì€ ì„ íƒì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```java
  public static Operation inverse(Operation op) {
    switch (op) {
      case PLUS:      return Operation.MINUS;
      case MINUS:     return Operation.PLUS;
      case TIMES:     return Operation.DIVIDE;
      case DIVIDE:    return Operation.TIMES;
    }

    throw new AssertionError("ì•Œ ìˆ˜ ì—†ëŠ” ì—°ì‚°: " + this);
  }
```

## 7. ì •ë¦¬

ì´ë²ˆ í¬ìŠ¤íŠ¸ëŠ” ì—´ê±° íƒ€ì…ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.

ì—´ê±° íƒ€ì…ì€ ì½ê¸° ì‰½ê³  ì•ˆì „í•˜ë©° ê°•ë ¥í•©ë‹ˆë‹¤.

ëŒ€ë¶€ë¶„ì˜ ì—´ê±° íƒ€ì…ì´ ëª…ì‹œì  ìƒì„±ìë‚˜ ë©”ì„œë“œ ì—†ì´ ì‚¬ìš©í•˜ì§€ë§Œ

ë•Œë¡ , í•„ìš”í•œ ê²½ìš°ê°€ ìˆê¸° ë•Œë¬¸ì— ìƒí™©ì— ë§ê²Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•©ì‹œë‹¤.